#!/usr/bin/env python
from srp_md.learn import fake_learn
from srp_md.sense import fake_sense
import rospy


def main():
    rospy.init_node('srp_md')

    # Make a learner and sensor
    learner = fake_learn.Learner()
    sensor = fake_sense.Sensor()

    # Get observations
    obs = []
    for i in xrange(10):
        sensor.accept_data(i)
        obs.append(sensor.process_data())
        print 'Observed:', obs[i]

    # Learn
    goal = learner.learn(obs)
    print 'Learned goal:', goal

    # Spin forever
    rospy.spin()


if __name__ == '__main__':
    main()
